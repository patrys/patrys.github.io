---
layout: post
status: publish
published: true
title: Enterprise, beam me up!
author: Patrys
author_login: admin
author_email: patrys@pld-linux.org
author_url: http://room-303.com/blog/
wordpress_id: 263
alias: /blog/2006/05/31/enterprise-beam-me-up/
date: 2006-05-31 09:50:58.000000000 +02:00
categories:
- web
- software
- code
tags: []
comments:
- id: 3838
  author: qwiat
  author_url: ''
  date: '2006-05-31 10:14:56 +0200'
  date_gmt: '2006-05-31 09:14:56 +0200'
  content: "\"Genialny\" wdrożeniowiec nie był w stanie określić przed wdrożeniem
    wymagań CMS-u począwszy od wersji PHP a kończywszy na liście wymaganych modułów
    PHP. Zabawa polegała na instalacji wszystkich modułów jakie wyświetlała funkcja
    php_info(), odpalona na jego laptopie (oczywiście to był jakiś automat PHP-owy
    więc część jest zbędnych).\r\n\r\nNa koniec dodam, że ów magik nie potrafił nawet
    skonfigurować phpMyAdmina, strach pomyśleć, że tacy ludzie próbują uchodzić z
    \"twórców zaawansowanych serwisów internetowych\""
- id: 3839
  author: agaran
  author_url: ''
  date: '2006-05-31 10:22:43 +0200'
  date_gmt: '2006-05-31 09:22:43 +0200'
  content: coz, moze ja podsumuje innym sloganem "powinni tego zabronic"
- id: 3840
  author: h67aruki
  author_url: ''
  date: '2006-05-31 10:33:29 +0200'
  date_gmt: '2006-05-31 09:33:29 +0200'
  content: Na sam koniec owocnego spotkania wyla mi kawe na moje nowe biale spodnie...
    Boze gdzie takich sieja?
- id: 3841
  author: yZZuF
  author_url: http://hastur.optus.nu/remik/blog/
  date: '2006-05-31 10:58:03 +0200'
  date_gmt: '2006-05-31 09:58:03 +0200'
  content: "Jak sam widzisz to jest klasa enterprise. Jeżeli jesteś za cienki to wychodząc
    na ring dostaniesz w morde. Do aplikacji klasy enterprise musisz dorzucić jeszcze
    system który to uciągnie. Oczywiście też klasy enterprise - SLES albo RH ES. A
    jak dorzucisz serwer, po raz kolejny produkt klasy enterprise, np. IBM xSeries
    336, 2 x Xeon HT 3,2GHz, 4 GB ramu, to może, zaznaczam może, uda Ci się spełnić
    wymagania i wszystko będzie działało bez zająknięcia.\r\nA tak na poważnie to
    współczuję. Za dużo mam do czynienia w pracy z czymś co zwie się enterprise i
    wiem, że jest to nic innego jak tylko mydlenie oczu ludziom, a dokładniej marketoidom.
    Ale cóż, taki świat, takie życie.\r\n8MB per vhost? Rozumiem, że to tylko profilaktyka
    i że nie jesteście ograniczani przez zasoby aż tak bardzo?"
- id: 3842
  author: Patrys
  author_url: http://room-303.com/
  date: '2006-05-31 11:03:26 +0200'
  date_gmt: '2006-05-31 10:03:26 +0200'
  content: "yZZuF:\r\n\r\n8MB to domyślna konfiguracja, pozwala łatwo wyłapać błędy
    w kodzie (jak coś nagle zechce sobie zaalokować 20 MB). Jeśli ktoś potrzebuje
    więcej, to dostanie, ale ciężko znaleźć system w PHP, który by wymagał pamięci
    liczonej w dziesiątkach megabajtów ;)"
- id: 3843
  author: Riddle
  author_url: http://riddle.jogger.pl
  date: '2006-05-31 12:51:03 +0200'
  date_gmt: '2006-05-31 11:51:03 +0200'
  content: Ten Wego ma logo inspirowane 37signals na maksa. ;-)
- id: 3863
  author: MS
  author_url: ''
  date: '2006-06-02 13:46:47 +0200'
  date_gmt: '2006-06-02 12:46:47 +0200'
  content: "heh - zawsze czułem, że to całe eZ jest o d... potłuc... jakiś czas temu
    miałem wątpliwą przyjemność przerabiać sklep oparty o eZ publish (działał dramatycznie
    wolno i brakowało kilku istotnych elementów) i generalnie skończyło się na zrobieniu
    wszystkiego od nowa.\r\nDo ww. limitów pamięci dodać należy spore zapotrzebowanie
    na powierzchnię dyskową ;)))\r\n\r\nNieustająco dziwię się też adminom serwisu
    PHP.pl, którzy są do tego stopnia zakochani w eZ, że obecnie www.php.pl to ramka
    ładująca stronę z phppl.ezpublish.no (widać nie udało się znaleźć w PL wystarczająco
    enterprise'owego hostingu)."
- id: 3875
  author: Łukasz
  author_url: http://serwatka.net
  date: '2006-06-03 20:03:56 +0200'
  date_gmt: '2006-06-03 19:03:56 +0200'
  content: "Witam, znalazłem Twój wpis zupełnie przypadkowo przeglądając polski internet
    dla słów \"eZ+publish\". Zainteresowało mnie którą firmę reprezentował ów wdrożeniowiec?\r\n\r\nPonadto
    wydajności systemu to koszt który płacisz za funkcjonalność i elastyczność, a
    te są imponujące. eZ publish to duża aplikacja i jeżeli ktoś decyduje sie z niej
    korzystać, powinien spełniać wymagania, podobnie jak z każdym innym softwarem.\r\n\r\nCo
    do osiągów eZ publish polecam wątek:\r\nhttp://ez.no/community/forum/install_configuration/ez_publish_performance/\r\n\r\nHosting
    w Polsce? Proszę bardzo:\r\nkei.pl\r\nhome.pl\r\nwebserver.pl\r\n\r\nKażda z tych
    firm hostuje co najmniej kilka instalacji eZ publish, bez problemów i czasy generowania
    strony są bardzo dobre. Jeżeli trzeba, możesz korzystać ze static cache. Być może
    ów wdrożenioweic, pseudo-profesjonalista nie był w stanie zasugerować albo nie
    wiedział która firma eZ publish hostować może.\r\n\r\nPadł także argument braku
    kompatybilności z PHP 5. Ty jako \"project lead\" powinieneś znać i widzieć różnice
    miedzy aplikacjami typu \"PHP 5 ready\" (które na PHP 5 można tylko uruchomić)
    a aplikacjami które w pełni korzystają z dobrodziejstw obiektywności PHP 5. Co
    więcej proces tworzenia eZ publish 4, które będzie PHP 5 strict został zapoczątkowany
    wraz z pojawieniem sie eZ Components. Wysoka wydajność obiektowego PHP 5 będzie
    miała na pewno odzwierciedlenie w osiągach eZ publish 4. O tym ze obiektowe PHP
    4 jest wolne, wie każdy, cóż zrobić taka platforma ...\r\n\r\npozdrawiam\r\nŁukasz"
- id: 3876
  author: Patrys
  author_url: http://room-303.com/
  date: '2006-06-03 20:07:20 +0200'
  date_gmt: '2006-06-03 19:07:20 +0200'
  content: "Łukasz:\r\n\r\nZ tym, że eZ Publish z PHP5.1 umiera na błędach składni.\r\n\r\nReszta
    twojego komentarza to marketingowa papka.\r\n\r\nTłumaczenie niskiej szybkości
    (a może wysokiej powolności) elastycznością, to jak sprzedawanie w salonie samochodowym
    amfibii, wciskanie jej człowiekowi, który potrzebuje malucha i tłumaczenie, że
    co prawda jedno tankowanie to cała pensja, ale za to można sobie pływać w razie
    powodzi."
- id: 3877
  author: Łukasz
  author_url: http://serwatka.net
  date: '2006-06-03 20:18:40 +0200'
  date_gmt: '2006-06-03 19:18:40 +0200'
  content: "Patrys,\r\n\r\nUmier bo kiedy powstawał, PHP 5.1 było w powijakach ;)\r\n\r\nZ
    manuala PHP 5\r\nThe behavior of array_merge() was modified in PHP 5. Unlike PHP
    4, array_merge() now only accepts parameters of type array. However, you can use
    typecasting to merge other types. See the example below for details.\r\n\r\nO
    tym problemie piszesz?\r\n\r\nZgadzam sie ze software trzeba dobierać do potrzeb.
    Jeżeli eZ publish je przewyższa, zostaw go w spokoju ..."
---
<p>Nie ukrywam, że notka została zainspirowana <a href="http://thedailywtf.com/forums/thread/75070.aspx">ostatnim postem na The Daily <abbr title="What The Fuck">WTF</abbr></a>. Podobną sytuacje mieliśmy całkiem niedawno w pracy.</p>

<p>Jako <q>project lead</q> <a href="http://wego.pl">systemu <abbr title="Content Management System">CMS</abbr> wego</a>, mam dość napięty harmonogram i całość mocy przerobowych firmy jest przeze mnie zaangażowana w rozwój tegoż systemu właśnie. W związku z tym, kiedy pojawił się klient, który wymagał indywidualnego rozwiązania, zadecydowano, że zlecenie zostanie outsource'owane, a realizacja przebiegnie poza firmą.</p>

<p>Nie byłoby w tym nic dziwnego, gdyby nie fakt, że po kilku dniach dowiedzieliśmy się, że aplikacja zostanie zbudowana w oparciu o <a href="http://ez.no/">eZ publish</a> — system bardziej enterprise'owy niż statek kosmiczny bohaterów Star Treka. Wcześniejsze doświadczenia z refaktoryzacją aplikacji budowanych na eZ bynajmniej nie przepełniały mnie optymizmem, ale byłem mimo wszystko dobrej myśli — co prawda, już raz zdarzyło mi się przepisywać aplikację oryginalnie opartą na rzeczonym środowisku na wersję standalone, bo wydajność okazała się kwestią krytyczną, ale z całą pewnością w ciągu ostatniego roku eZ się rozwinął. Niczym Bogusław Wołoszański, powinienem teraz powiedzieć <q>tego dnia nie mogli jeszcze przypuszczać, że już za dziesięć dni, w biurze obok, odbędzie się spotkanie, które odwróci bieg historii.</q></p>

<p>W dziesięć dni później pojawił się bowiem wdrożeniowiec, specjalista od pewnego systemu, którego domena macierzysta mówi wszystko (easy? no!). Rzeczona aplikacja została zbudowana w czasie, który nazwano <q>rekordowym</q> (choć jej oparcie na frameworku typu Cake z pewnością zaowocowałoby skróceniem tego czasu, jak i oszczędzeniem nam kolejnych kłopotów, ale o tym za chwilę). Przyszedł czas na prezentację. Przygotowania chyżo ruszyły, a specjalista — niczym rączy rumak — wyrwał z kopyta i zatrzymał się na najbliższym słupie. Okazało się bowiem, że nasza wersja <abbr title="PHP Hypertext Preprocessor">PHP</abbr> jest zbyt nowa. eZ nie działa z <abbr>PHP</abbr>5 i tyle, żadna siła boska ni świecka do kooperacji go nie zmusi. Co prawda, wymaga MySQL5, ale parsera oczekuje prehistorycznego.</p>

<p>W 24 roboczogodziny później (Qwiat, jako admin, się specjalnie nie nudzi i bez takich kwiatków), system został uruchomiony. <q>I dnia trzeciego zobaczył Pan, że aplikacja klika i było to dobre.</q> Chciałoby się powiedzieć, że wszystko <q>śmiga,</q> ale byłoby to wyjątkowo niecelne sformułowanie. Strony serwisu potrzebują około sekundy na wyświetlenie. Pod jednym warunkiem — że znajdują się w cache. Jeśli się jednak przedawnią, na radość podziwiania kilkudziesięciu linijek <abbr title="HyperText Markup Language">HTML</abbr> przyjdzie nam czekać dokładnie 35 sekund. Na serwerze, gdzie znajduje się kilkaset serwisów, w tym znacznie bardziej skomplikowane rozwiązania, które — bez użycia cache dla danych z bazy — radzą sobie w dobrze poniżej pół sekundy.</p>

<p>Cóż na to można zaradzić? Wdrożeniowiec zalecił <q>instalację eAcceleratora i rekompilację MySQL z parametrami podanymi na stronie eZ publish.</q> Pewnie, a potem zakup dedykowanego serwera. eAccelerator przyspieszył proces generowania strony o całe 3 sekundy, druga sugestia trafiła wprost do <code>/dev/null</code>. Ale czegóż można się spodziewać po aplikacjach z <q>enterprise</q> w sloganie marketingowym?</p>

<p>Zapomniałem wspomnieć, że w sytuacji, gdzie wszystkie vhosty mają ustawiony limit pamięci na nie więcej niż <del>12</del> <ins>8</ins> <abbr title="megabajtów">MB</abbr>, nasz system na eZ z rozkoszą poprosił o 50 <abbr>MB</abbr> żeby się w ogóle uruchomić. Boję się sprawdzać, jak wygląda diagram przepływu sterowania w kodzie, ale na usta ciśnie się cytat z komentarzy do wspomnianego posta na The Daily <abbr>WTF</abbr>:</p>

<blockquote><p>It forgets the steps where it prints an image of the transactions and then scans them on a desktop to get the wood border.</p></blockquote>

Technorati Tags: <a href="http://technorati.com/tag/ez cms software web enterprise" rel="tag">ez cms software web enterprise</a>
