---
layout: post
status: publish
published: true
title: Jak nie należy programować
author: Patrys
author_login: admin
author_email: patrys@pld-linux.org
author_url: http://room-303.com/blog/
wordpress_id: 427
wordpress_url: http://room-303.com/blog/2008/02/14/jak-nie-nalezy-programowac/
date: 2008-02-14 17:22:50.000000000 +01:00
categories:
- software
tags: []
comments:
- id: 17171
  author: kuba
  author_url: http://kubazwolinski.com
  date: '2008-02-14 18:23:12 +0100'
  date_gmt: '2008-02-14 17:23:12 +0100'
  content: Przednio się czyta, najbardziej podobam mi się narzędzie UMŁ, muszę takie
    zakupić bo wydaje się niezwykle przydatne :)
- id: 17174
  author: Radomir Dopieralski
  author_url: http://sheep.art.pl
  date: '2008-02-14 19:48:37 +0100'
  date_gmt: '2008-02-14 18:48:37 +0100'
  content: Zostało naukowo udowodnione, że na widok osobnika w gorszej sytuacji odruchowo
    poprawia się nam humor.
- id: 17175
  author: Tomasz Tybulewicz
  author_url: http://tybulewicz.com/
  date: '2008-02-14 20:44:47 +0100'
  date_gmt: '2008-02-14 19:44:47 +0100'
  content: "Wymiatasz!\r\n\r\nTen wpis śmiało może konkurować (i wygrać) z dowolnym
    tekstem na TDWTF - podeślij go ekipie polskiego wydania, lub (jeszcze lepiej)
    przetłumacz i podrzuć by pokazał się na oryginalnej stronie!\r\n\r\nPrywatnie
    współczuję nierównej walki z fantacją poprzednika"
- id: 17176
  author: Patrys
  author_url: http://room-303.com/
  date: '2008-02-14 20:47:32 +0100'
  date_gmt: '2008-02-14 19:47:32 +0100'
  content: "Tomasz:\r\n\r\nTo ja jestem \"ekipą polskiego wydania\" ;)"
- id: 17177
  author: Seban
  author_url: http://blog.sebastiannowak.net
  date: '2008-02-14 22:06:09 +0100'
  date_gmt: '2008-02-14 21:06:09 +0100'
  content: Zajebiaszcze! Zapomniałeś o testach pokrycia kodu wykonywanych za pomocą
    czarnej płachty rzucanej na monitor. ;-)
- id: 17178
  author: jpc
  author_url: http://jpc.jogger.pl
  date: '2008-02-14 22:19:04 +0100'
  date_gmt: '2008-02-14 21:19:04 +0100'
  content: "Dwie rzeczy międzywierszowe:\r\n1. Nie macie peer code-review. (to normalne?)\r\n2.
    Gdzie ten Pan teraz będzie pracował? ;-)"
- id: 17179
  author: Patrys
  author_url: http://room-303.com/
  date: '2008-02-14 22:21:43 +0100'
  date_gmt: '2008-02-14 21:21:43 +0100'
  content: "jpc:\r\n\r\nKiedy 3 programistów prowadzi 3 projekty, ciężko o zasoby
    do peer review, ale mam od jakiegoś czasu pomysł, jak to zorganizować po fakcie.
    Zastanawiam się tylko między opcjami reviewboard + moderacja vs. track + opieprzanie."
- id: 17180
  author: GDR!
  author_url: http://gdr.geekhood.net/
  date: '2008-02-14 22:53:08 +0100'
  date_gmt: '2008-02-14 21:53:08 +0100'
  content: Tabela ze zserializowanymi obiektami mnie urzekła pomysłowością.
- id: 17181
  author: mt3o
  author_url: ''
  date: '2008-02-14 23:07:46 +0100'
  date_gmt: '2008-02-14 22:07:46 +0100'
  content: "Genialny wpis. Daje do myślenia!\r\n\r\nUMŁ przyda się w przyszłości pewnie
    :)"
- id: 17187
  author: Tomasz Tybulewicz
  author_url: http://tybulewicz.com/
  date: '2008-02-15 10:16:10 +0100'
  date_gmt: '2008-02-15 09:16:10 +0100'
  content: "No tak, to trafiłem jak kulą w płot ;)\r\nMam nadzieję że wpis pojawi
    się niedługo na TDWTF - szkoda by został tylko w naszym grajdołku ;)"
- id: 17188
  author: zar
  author_url: http://blog.eldoras.com
  date: '2008-02-15 11:39:49 +0100'
  date_gmt: '2008-02-15 10:39:49 +0100'
  content: "Projekt bazy danych jest genialny, aż wstyd, że go nie implementowałem
    dotychczas :/\r\nPamiętać jednak należy, że liczniki w pętlach nie są zbyt istotne,
    więc z powodzeniem możemy nie obfuskować ich, stosując:\r\nfor(int counter=0;
    counter&lt;sizeof(bla); counter++)\r\nDodatkowo każdorazowe wywołanie sizeof()
    zapewni, że statement będzie poprawny przy każdym wywołaniu - nie ma miejsca na
    błąd."
- id: 17189
  author: cam
  author_url: ''
  date: '2008-02-15 11:48:46 +0100'
  date_gmt: '2008-02-15 10:48:46 +0100'
  content: "Łączę się z Tobą w bólu. Na szczęście zamiast poprawek w systemie klasy
    E mam tylko do poprawienia średniej wielkości moduł dużego portalu.\r\nZ lepszych
    technik - chciałem tu podać przykład TPS  (Techniki Pętli Spowalniających).\r\nwhile
    (...) {\r\n  (...)\r\n  $zmienna = round($integer1 + $integer2);\r\n}"
- id: 17313
  author: anghan
  author_url: http://anghan.jogger.pl
  date: '2008-02-18 13:05:10 +0100'
  date_gmt: '2008-02-18 12:05:10 +0100'
  content: Bardzo świetnie sie czyta tego typu tekstu u Ciebie. Zastanawiam się czy
    prosząc o więcej życzę Ci jeszcze więcej wyrwanych włosów w czasie pracy ?
- id: 17319
  author: bkoper
  author_url: http://bkoper.pl
  date: '2008-02-18 20:45:49 +0100'
  date_gmt: '2008-02-18 19:45:49 +0100'
  content: Umarłem ;)
- id: 17337
  author: x
  author_url: ''
  date: '2008-02-20 08:24:22 +0100'
  date_gmt: '2008-02-20 07:24:22 +0100'
  content: Hmm to jak juz sie wszyscy pospuszczali nad genialnoscia tego textu to
    dodam , ze niby smieszne wcinki w stylu E(automat , do tkanin czarnych) sa zbyt
    nachalne i niesmieszne. Ale kolko wzajemnej adoracji kreci sie dalej.
- id: 17346
  author: slav
  author_url: http://jasinski.us
  date: '2008-02-20 23:54:10 +0100'
  date_gmt: '2008-02-20 22:54:10 +0100'
  content: Poprawianie po Panu urlopowiczu do tej pory wywoluje biala goraczke w mojej
    ekipie ;) na pytanie "co autor mial na mysli" czesto pomagaja liczne komentarze
    w postaci "jakas zmienna nie wiem po co" ;&gt;
- id: 17355
  author: Joseph
  author_url: ''
  date: '2008-02-21 20:09:34 +0100'
  date_gmt: '2008-02-21 19:09:34 +0100'
  content: "Od razu mi się lepiej zrobiło. Sam mam teraz do rozbudowy pewien projekt.
    I idzie całkiem fajnie, tylko natrafiłem na niemały moduł, który został napisany
    dosłownie w 1 noc. Posiekać się przy nim idzie. Autor co prawda dostępny,ale i
    tak nie wiele wie.\r\nNa szczęście on tak normalnie nie pisze, tylko to musiał
    na szybkiego i gorączkę miał niezłą. To w sumie by wiele wyjaśniało :|"
- id: 17382
  author: sator
  author_url: ''
  date: '2008-02-24 23:03:52 +0100'
  date_gmt: '2008-02-24 22:03:52 +0100'
  content: Strona ITS Ltd przeładowująca się "w miejscu" to chyba dobra ilustracja
    zasady UMŁ i zarazem... kpina z hasła reklamowego firmy
- id: 17496
  author: nbw
  author_url: http://enbewu.net/blog
  date: '2008-02-28 16:34:29 +0100'
  date_gmt: '2008-02-28 15:34:29 +0100'
  content: '@sator: możemy też zrobić by strona przeładowywała się na ukos.'
- id: 17576
  author: sator
  author_url: ''
  date: '2008-03-01 23:27:41 +0100'
  date_gmt: '2008-03-01 22:27:41 +0100'
  content: Widzę. Zwłaszcza "Lorem ipsum" w zakładce "Company" wygląda kanciasto :)
---
<p>Tydzień z grubsza zajęło mi doprowadzenie do używalności kodu, który otrzymałem w spadku po pewnym urlopowiczu. Dobrze, że nie mam włosów, bo z pewnością bym je dawno wyrwał, choć z &mdash; drugiej strony &mdash; na programowaniu cierpi moja broda. Kolega wypoczywa w Iranie, a my próbujemy dojść, co też podmiot liryczny miał na myśli. Kiedy czytanie źródeł dłuży się ponad lekturę <q>Nad Niemnem,</q> znak to, że czas na notkę.</p>

<h4>Jak nie należy programować</h4>

<p>Na wstępie już zaznaczę, że w <a href="http://itsltd.eu/">ITS Ltd.</a> zajmujemy się budowaniem aplikacji webowych w oparciu o Pythona i Django, więc niektórym poniższy tekst może wydać się płytki/nudny/pozbawiony sensu (niepotrzebne skreślić).</p>

<p>Poradnik niniejszy zalecany jest dla programistów, którzy w różny sposób związani są z serwisem <a href="http://thedailywtf.com/">The Daily <abbr title="What The Fuck">WTF</abbr></a> &mdash; czy to przez umiłowanie do czytania publikowanych tam historii, czy to przez bycie bohaterem tych ostatnich. Redakcja zastrzega sobie prawo do skrótów myślowych i przelotnego braku poczucia humoru.</p>

<h4>Redundancja</h4>

<p>Najważniejszą cechą systemów klasy Enterprise (jeden do teleportacji) jest ich wysoka dostępność (i cena). Jest to fakt tak niezaprzeczalny, jak niezaprzeczalna jest wysoka jakość produktów z rodziny Gadu-Gadu. Autorzy aplikacji klasy E (uniwersalny, automat i do tkanin czarnych) często uważają, że ich produkty z powodzeniem stawać mogą w konkury z aparaturą czasu rzeczywistego. Cóż, każdy może się mylić, ale jakież tajemne receptury zapewniają taką pewność siebie? Dziś Viagrę nabyć można na każdym bazarze, skupmy się więc na technikach programowania.</p>

<p>Autor aplikacji staje wielokrotnie przed trudnymi pytaniami egzystencjalnymi. <q>Gdzie jest specyfikacja techniczna?</q> <q>Jak ja wczoraj wróciłem do domu?</q> <q>Skąd weźmiemy tyle galaretki, żeby napełnić basen?</q> To tylko niektóre z nich. Najważniejsze pytanie, jakie zadają sobie autorzy aplikacji klasy E (E303, E301, może zawierać śladowe ilości orzechów), to <em>jak uniknąć używania bibliotek, których sami nie napisaliśmy, wszak któregoś ranka gotowe przestać działać.</em> Na szczęście tutaj z pomocą przychodzi dogmat Copiego-Paste'a. Wystarczy zatem skopiować kluczowe elementy frameworku do używającej go aplikacji i już możemy spać spokojnie &mdash; co dwie kopie to nie jedna, prawdopodobieństwo mówi, że obie nie popsują się jednocześnie.</p>

<h4>Optymalizacja czasu pracy</h4>

<p>Jeśli brać z kogoś przykłady (a klasa E czyni to niechętnie, sami wszakże stanowią elitę), to tylko z amerykańskiej marynarki. Tradycyjne pojęcia deadline'ów i zarządzania zasobami zastąpić można sprawdzonym na wielu wojnach <em>ŻULU time</em>. W firmie najważniejsi są ludzie, więc zawsze jest czas się napić! Pozwala to płynnie regulować stres powodowany przez pracę, a naukowcy dowodzą, że może w zupełności wyeliminować ryzyko wystąpienia nerwicy (stosujący tę metodykę rzadko dożywają czterdziestki).</p>

<p>Ważne jest również, by programista miał podejście analitycznie i potrafił myśleć <em>outside the box</em>, co w języku polskim oznacza dosłownie <em>myśl, jak ciągle być poza kubikiem</em>. W praktyce sprawdza się najlepiej obranie niekonwencjonalnych godzin pracy (na przykład godzin nocnych) i planowanie przestrzenne (<em>koduję od tego kieliszka do podłogi</em>).</p>

<h4>Generalizacja</h4>

<p>Generalizacja to dar patrzenia na rzeczy z dystansu. Dla przykładu pies i samochód z dystansu wyglądają podobnie. Dlaczego więc nie umieścić ich w bazie danych we wspólnej tabeli <code>rzecz</code>, odpowiednio pomijając kolumnę <code>rasa</code> w przypadku samochodu i podając zero w kolumnie <code>liczba_drzwi</code> w przypadku psa? Tak zbudowana baza danych jest dużo prostsza do programowania, zwłaszcza jeśli w użyciu jest szkielet <abbr title="Object-Relational Mapper">ORM</abbr>.</p>

<p>Dodatkowe punkty komisja przyzna za uproszczenie tabeli do jednego pola, w którym umieścić można zserializowany obiekt dowolnego typu.</p>

<h4>Obfuskacja</h4>

<p>Duży projekt klasy E często jest oczkiem w głowie korporacji. Nie można zatem dopuścić, by sekrety jego działania poznał niepowołany śmiertelnik. Lata doświadczenia w dziedzinie refaktoryzacji uczą, że najpewniejszym środkiem zapobiegawczym jest obszerne stosowanie obfuskacji. Stosowanie jednoliterowych nazw zmiennych i funkcji nie tylko uniemożliwia zrozumienie geniuszu kryjącego się za kodem, ale także znacznie zmniejsza miejsce, jakie kod zajmuje na dysku. Jest to zaleta nie do pominięcia w przypadku projektów, które korzystają dodatkowo z technik programowania życzeniowego (ale o tym za chwilę).</p>

<p>Niezwykle ważne jest też konsekwentne nieumieszczanie komentarzy w kodzie. Łatwo policzyć, że przeciętna metoda o długości dziesięciu ekranów, stałaby się nieznośnie długa, gdyby co drugi wiersz wstawić komentarz i przeprosiny dla naszego zastępcy.</p>

<h4>Zaawansowane techniki zabezpieczania kodu</h4>

<p>Kolejną techniką obfuskacji jest, pochodzący z literatury, synkretyzm językowy. Dla zmylenia potencjalnego przeciwnika i lepszego utrwalenia w pamięci dawno nieużywanych technik, staramy się co jakiś czas wtrącić ekran kodu napisanego na przykład w <abbr title="PHP Hypertext Preprocessor">PHP</abbr>. W tym celu ograniczamy się do części wspólnej składni obu języków, dodatkowo emulując zachowanie zupełnie innego frameworku.</p>

<p>Mało znaną, ale opanowaną do perfekcji przez elitę, metodą wprowadzania zakłóceń w kodzie jest tak zwane <em>prawo wolnego rynku</em> (import bez ograniczeń). Główne zastosowanie tej metody to naprawianie wadliwych języków, których autorzy złośliwie wprowadzili przestrzenie nazw. Wystarczy jednak kilka instrukcji <code>from foo import *</code> starannie porozrzucanych po kodzie (nie zapomnijmy części z nich umieścić w instrukcjach warunkowych) i jesteśmy z powrotem w starym, dobrym bashu. Przyjemny skutek uboczny to fakt, że nikt nigdy nie będzie w stanie odtworzyć zależności aplikacji poza naszym środowiskiem rozwojowym.</p>

<h4>Programowanie życzeniowe i stubenci</h4>

<p>Jedną z podstawowych prawd na temat programowania jest taka, że każdą aplikację trzeba utrzymywać, a rzadko która nie ewoluuje wraz z upływającym czasem. Pragmatyczny programista dba o to już od pierwszej linii kodu. Zanim jeszcze zajmie się implementacją wymaganej funkcjonalności, stara się przewidzieć możliwe przyszłe drogi rozwoju. Jeśli programista zna się na fachu, owocuje to umieszczeniem w kodzie rozlicznych z pozoru niepotrzebnych metod. Są one z natury zepsute bądź puste i nazywamy je <em>stubami</em>, sam zaś autor nosi fachowe miano <em>stubenta</em>.</p>

<p>Stubenci zapewniają aplikacji bezpieczny margines nadmiarowości, podobnej w naturze do redundancji, co z kolei zmniejsza ryzyko, że przyszły opiekun projektu w wyniku zmieszania niechcący usunie coś niezbędnego. Jedną z rzadziej spotykanych metryk jakości kodu klasy E jest właśnie procentowy udział kodu, który można usunąć bez wpływu na działanie aplikacji. Najlepsi w branży utrzymują się w przedziale od czterdziestu do sześćdziesięciu procent.</p>

<h4>Testy jednostkowe i UMŁ</h4>

<p>Jak sama nazwa wskazuje, są to testy, które przeprowadza się tylko raz. Dla pewności, że zbędne dane nie wpłyną na wynik ani czas trwania testu, najlepiej przeprowadzić go w środowisku rozwojowym, przy pustej bazie danych. Już samo słowo <q>wdrożenie</q> sugeruje, że klient musi liczyć się z dodatkowymi kosztami w celu późniejszego doprowadzenia produktu do działania w środowisku produkcyjnym. Testy jednostkowe, z natury, mogą być ciężkie do powtórzenia nawet w warunkach laboratoryjnych, stąd nie należy mieć oporów przed skorzystaniem z wygodnego narzędzia, jakim jest UMŁ (<q><em>u mnie łaziło</em></q>).</p>

<p>Cóż, na dziś to wszystko, do zobaczenia w kolejnym odcinku poradnika <q>Jak nie należy programować,</q> gdzie wspólnie wzbogacimy wachlarz stosowanych praktyk. Czytał Lucjan Szołajski.</p>
